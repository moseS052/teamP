<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.team.pj.iteamP">
<select id='getNoteCon' resultType="com.team.pj.noteVO">
	select * from note where (m_no=#{param1} and m_pa_no=#{param2}) or (m_no=#{param2} and m_pa_no=#{param1}) order by n_date
</select>
<insert id='noteSend'>
	insert into note values(note_sq.nextval,#{param1},#{param3},current_date,#{param2})
</insert>
<select id='getID' resultType="String">
	select id from member where m_no=#{param1}
</select>
<select id='getM_no' resultType="int">
	select m_no from member where id=#{param1}
</select>
<select id='searchTNC' parameterType="hashMap" resultType="com.team.pj.SearchVO">
	select nick,title,time,seqno,substr(con,instr(con,${search}),10) con from ${table} where (title like  '%'||${search}||'%') or (con like '%'||${search}||'%')
</select>
<select id='searchNick' parameterType="hashMap" resultType="com.team.pj.SearchVO">
	select nick,title,time,seqno from ${table} where nick like '%'||#{search}||'%'
</select>
</mapper>






